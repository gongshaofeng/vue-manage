{"remainingRequest":"/Users/GSF/GSF/vue-manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/GSF/GSF/vue-manage/src/components/page/shopList.vue?vue&type=style&index=0&id=d4fee358&scoped=true&lang=css","dependencies":[{"path":"/Users/GSF/GSF/vue-manage/src/components/page/shopList.vue","mtime":1537186190908},{"path":"/Users/GSF/GSF/vue-manage/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/GSF/GSF/vue-manage/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1521907990000},{"path":"/Users/GSF/GSF/vue-manage/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/GSF/GSF/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":1534853418000},{"path":"/Users/GSF/GSF/vue-manage/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.demo-table-expand {\n    font-size: 0;\n}\n.demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n}\n.table_container{\n    padding: 20px;\n}\n.Pagination{\n    display: flex;\n    justify-content: flex-start;\n    margin-top: 8px;\n}\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n    border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n}\n.avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n}\n",{"version":3,"sources":["shopList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"shopList.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n    <div class=\"table_contain\">\n        <el-table :data=\"tableData\" style=\"width: 100%\" :header-cell-style=\"{fontSize:'14px', color:'black'}\">\n            <el-table-column type=\"expand\">\n                <template slot-scope=\"props\">\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                        <el-form-item label=\"店铺名称\">\n                            <span>{{ props.row.name }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"店铺地址\">\n                        <span>{{ props.row.address }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"店铺介绍\">\n                            <span>{{ props.row.description }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"店铺 ID\">\n                            <span>{{ props.row.id }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"联系电话\">\n                            <span>{{ props.row.phone }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"评分\">\n                            <span>{{ props.row.rating }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"销售量\">\n                            <span>{{ props.row.recent_order_num }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"分类\">\n                            <span>{{ props.row.category }}</span>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"店铺名称\" prop=\"name\" </el-table-column>\n            <el-table-column label=\"店铺地址\" prop=\"address\"></el-table-column>\n            <el-table-column label=\"店铺介绍\" prop=\"description\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"400\" class=\"font\">\n                <template slot-scope=\"scope\">\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                    <el-button size=\"mini\" type=\"Success\" @click=\"addFood(scope.$index, scope.row)\">添加食品</el-button>\n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'shoplist',\n    data(){\n        return{\n            tableData:[]\n        }\n    },\n    created(){\n        this.getshoplist();\n    },\n    methods:{\n        handleEdit(index, row){\n            console.log(index,row)\n        },\n        addFood(index, row){\n            console.log(index,row)\n\n        },\n        // 删除商家\n        handleDelete(index, row){\n            this.$confirm(\"确认删除？\")\n            .then(result =>{\n                let id=this.tableData[index].id;\n                var q=this.deleteResturnant(id);\n                if(q == false){\n                    this.$message({\n                        type: 'success',\n                        message: '删除店铺成功',\n                    });\n                    this.tableData.splice(index, 1) //通过下标删除\n                }else{\n                    alert(\"失败\")\n                }\n            })\n            .catch(err=>{console.log(err)})\n        },\n        // 获取商家列表 api\n        getshoplist(){\n            this.$http.get(\"http://localhost:3000/shoplist\")\n                .then(res=>{\n                    // console.log(res.data);\n                    this.tableData=res.data\n                })\n        },\n        // 删除商家 api\n        deleteResturnant(id){\n            this.$axios({\n                method:\"delete\",\n                url:`http://localhost:3000/shoplist/${id}`,\n            }).then(res=>{\n                // console.log(res)\n            }).catch(err=>{\n                console.log(err)\n            })\n            return false;\n        }\n    }\n}\n</script>\n<style scoped>\n    .demo-table-expand {\n        font-size: 0;\n    }\n    .demo-table-expand label {\n        width: 90px;\n        color: #99a9bf;\n    }\n    .demo-table-expand .el-form-item {\n        margin-right: 0;\n        margin-bottom: 0;\n        width: 50%;\n    }\n    .table_container{\n        padding: 20px;\n    }\n    .Pagination{\n        display: flex;\n        justify-content: flex-start;\n        margin-top: 8px;\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #20a0ff;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 120px;\n        height: 120px;\n        line-height: 120px;\n        text-align: center;\n    }\n    .avatar {\n        width: 120px;\n        height: 120px;\n        display: block;\n    }\n</style>\n\n"]}]}