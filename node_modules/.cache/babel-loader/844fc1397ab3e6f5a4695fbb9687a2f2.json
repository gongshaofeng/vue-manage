{"remainingRequest":"/Users/GSF/GSF/vue-manage/node_modules/babel-loader/lib/index.js!/Users/GSF/GSF/vue-manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/GSF/GSF/vue-manage/src/components/page/shopList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/GSF/GSF/vue-manage/src/components/page/shopList.vue","mtime":1537186190908},{"path":"/Users/GSF/GSF/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":1534853418000},{"path":"/Users/GSF/GSF/vue-manage/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/GSF/GSF/vue-manage/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'shoplist',\n  data: function data() {\n    return {\n      tableData: []\n    };\n  },\n  created: function created() {\n    this.getshoplist();\n  },\n  methods: {\n    handleEdit: function handleEdit(index, row) {\n      console.log(index, row);\n    },\n    addFood: function addFood(index, row) {\n      console.log(index, row);\n    },\n    // 删除商家\n    handleDelete: function handleDelete(index, row) {\n      var _this = this;\n\n      this.$confirm(\"确认删除？\").then(function (result) {\n        var id = _this.tableData[index].id;\n\n        var q = _this.deleteResturnant(id);\n\n        if (q == false) {\n          _this.$message({\n            type: 'success',\n            message: '删除店铺成功'\n          });\n\n          _this.tableData.splice(index, 1); //通过下标删除\n\n        } else {\n          alert(\"失败\");\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    // 获取商家列表 api\n    getshoplist: function getshoplist() {\n      var _this2 = this;\n\n      this.$http.get(\"http://localhost:3000/shoplist\").then(function (res) {\n        // console.log(res.data);\n        _this2.tableData = res.data;\n      });\n    },\n    // 删除商家 api\n    deleteResturnant: function deleteResturnant(id) {\n      this.$axios({\n        method: \"delete\",\n        url: \"http://localhost:3000/shoplist/\".concat(id)\n      }).then(function (res) {// console.log(res)\n      }).catch(function (err) {\n        console.log(err);\n      });\n      return false;\n    }\n  }\n};",{"version":3,"sources":["shopList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,eAAA;AACA,QAAA,UADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,iBAAA;AADA,KAAA;AAGA,GANA;AAOA,SAPA,qBAOA;AACA,SAAA,WAAA;AACA,GATA;AAUA,WAAA;AACA,cADA,sBACA,KADA,EACA,GADA,EACA;AACA,cAAA,GAAA,CAAA,KAAA,EAAA,GAAA;AACA,KAHA;AAIA,WAJA,mBAIA,KAJA,EAIA,GAJA,EAIA;AACA,cAAA,GAAA,CAAA,KAAA,EAAA,GAAA;AAEA,KAPA;AAQA;AACA,gBATA,wBASA,KATA,EASA,GATA,EASA;AAAA;;AACA,WAAA,QAAA,CAAA,OAAA,EACA,IADA,CACA,kBAAA;AACA,YAAA,KAAA,MAAA,SAAA,CAAA,KAAA,EAAA,EAAA;;AACA,YAAA,IAAA,MAAA,gBAAA,CAAA,EAAA,CAAA;;AACA,YAAA,KAAA,KAAA,EAAA;AACA,gBAAA,QAAA,CAAA;AACA,kBAAA,SADA;AAEA,qBAAA;AAFA,WAAA;;AAIA,gBAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA,EALA,CAKA;;AACA,SANA,MAMA;AACA,gBAAA,IAAA;AACA;AACA,OAbA,EAcA,KAdA,CAcA,eAAA;AAAA,gBAAA,GAAA,CAAA,GAAA;AAAA,OAdA;AAeA,KAzBA;AA0BA;AACA,eA3BA,yBA2BA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,gCAAA,EACA,IADA,CACA,eAAA;AACA;AACA,eAAA,SAAA,GAAA,IAAA,IAAA;AACA,OAJA;AAKA,KAjCA;AAkCA;AACA,oBAnCA,4BAmCA,EAnCA,EAmCA;AACA,WAAA,MAAA,CAAA;AACA,gBAAA,QADA;AAEA,sDAAA,EAAA;AAFA,OAAA,EAGA,IAHA,CAGA,eAAA,CACA;AACA,OALA,EAKA,KALA,CAKA,eAAA;AACA,gBAAA,GAAA,CAAA,GAAA;AACA,OAPA;AAQA,aAAA,KAAA;AACA;AA7CA;AAVA,CAAA","sourcesContent":["<template>\n    <div class=\"table_contain\">\n        <el-table :data=\"tableData\" style=\"width: 100%\" :header-cell-style=\"{fontSize:'14px', color:'black'}\">\n            <el-table-column type=\"expand\">\n                <template slot-scope=\"props\">\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                        <el-form-item label=\"店铺名称\">\n                            <span>{{ props.row.name }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"店铺地址\">\n                        <span>{{ props.row.address }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"店铺介绍\">\n                            <span>{{ props.row.description }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"店铺 ID\">\n                            <span>{{ props.row.id }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"联系电话\">\n                            <span>{{ props.row.phone }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"评分\">\n                            <span>{{ props.row.rating }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"销售量\">\n                            <span>{{ props.row.recent_order_num }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"分类\">\n                            <span>{{ props.row.category }}</span>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"店铺名称\" prop=\"name\" </el-table-column>\n            <el-table-column label=\"店铺地址\" prop=\"address\"></el-table-column>\n            <el-table-column label=\"店铺介绍\" prop=\"description\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"400\" class=\"font\">\n                <template slot-scope=\"scope\">\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                    <el-button size=\"mini\" type=\"Success\" @click=\"addFood(scope.$index, scope.row)\">添加食品</el-button>\n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'shoplist',\n    data(){\n        return{\n            tableData:[]\n        }\n    },\n    created(){\n        this.getshoplist();\n    },\n    methods:{\n        handleEdit(index, row){\n            console.log(index,row)\n        },\n        addFood(index, row){\n            console.log(index,row)\n\n        },\n        // 删除商家\n        handleDelete(index, row){\n            this.$confirm(\"确认删除？\")\n            .then(result =>{\n                let id=this.tableData[index].id;\n                var q=this.deleteResturnant(id);\n                if(q == false){\n                    this.$message({\n                        type: 'success',\n                        message: '删除店铺成功',\n                    });\n                    this.tableData.splice(index, 1) //通过下标删除\n                }else{\n                    alert(\"失败\")\n                }\n            })\n            .catch(err=>{console.log(err)})\n        },\n        // 获取商家列表 api\n        getshoplist(){\n            this.$http.get(\"http://localhost:3000/shoplist\")\n                .then(res=>{\n                    // console.log(res.data);\n                    this.tableData=res.data\n                })\n        },\n        // 删除商家 api\n        deleteResturnant(id){\n            this.$axios({\n                method:\"delete\",\n                url:`http://localhost:3000/shoplist/${id}`,\n            }).then(res=>{\n                // console.log(res)\n            }).catch(err=>{\n                console.log(err)\n            })\n            return false;\n        }\n    }\n}\n</script>\n<style scoped>\n    .demo-table-expand {\n        font-size: 0;\n    }\n    .demo-table-expand label {\n        width: 90px;\n        color: #99a9bf;\n    }\n    .demo-table-expand .el-form-item {\n        margin-right: 0;\n        margin-bottom: 0;\n        width: 50%;\n    }\n    .table_container{\n        padding: 20px;\n    }\n    .Pagination{\n        display: flex;\n        justify-content: flex-start;\n        margin-top: 8px;\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #20a0ff;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 120px;\n        height: 120px;\n        line-height: 120px;\n        text-align: center;\n    }\n    .avatar {\n        width: 120px;\n        height: 120px;\n        display: block;\n    }\n</style>\n\n"],"sourceRoot":"src/components/page"}]}